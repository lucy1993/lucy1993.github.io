{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["classedNumb","2","4","8","16","32","64","128","256","App","initPageRef","useRef","useState","keyState","setKeyState","gameState","setGameState","scoreState","setScoreState","data","setData","handleNewGame","useEffect","initKeys","current","focus","addRandomNumber","changeCurrentData","randomParent","Math","floor","random","randomChild","twoOrFour","ArrowKeysReact","config","left","handleArrows","right","up","down","handleOrderArray","modData","side","newData","noM","forEach","row","newRow","col","push","length","Array","fill","concat","sumData","rowIndex","map","colIndex","innerRow","handleSum","handleReverseArray","cilIndex","eventSide","mainData","newOrder","changedOrder","className","ref","events","tabIndex","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b12ea47e.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport ArrowKeysReact from 'arrow-keys-react';\nimport './App.css';\n\nconst classedNumb = {\n  2: 'two',\n  4: 'four',\n  8: 'eight',\n  16: 'sixteen',\n  32: 'thirty-two',\n  64: 'sixty-four',\n  128: 'h-t-e',\n  256: 't-f-s'\n}\n\nfunction App() {\n  const initPageRef = useRef();\n  const [keyState, setKeyState] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [scoreState, setScoreState] = useState(0);\n\n  const [data, setData] = useState([\n    [0,0,2,0], \n    [0,0,0,0], \n    [0,0,0,0], \n    [0,0,0,0]\n  ]);\n\n  const handleNewGame = () => {\n    setGameState('new')\n    setScoreState(0)\n    setData([\n      [0,0,0,0], \n      [2,0,0,0], \n      [0,0,0,0], \n      [0,0,0,2]\n    ])\n  }\n\n  useEffect(() => {\n    initKeys();\n    initPageRef.current.focus();\n  });\n\n  useEffect(() => {\n    setData(addRandomNumber())\n  }, [keyState]);\n\n  const addRandomNumber = () => {\n    const changeCurrentData = [...data];\n\n    if (gameState !== 'lost') {\n      const randomParent = Math.floor(Math.random() * 4)\n      const randomChild = Math.floor(Math.random() * 4)\n      const twoOrFour = Math.floor(Math.random() * 6) + 1  < 4 ? 2 : 4\n  \n  \n      if(changeCurrentData[randomParent][randomChild]) {\n        return addRandomNumber()\n      } else {\n         changeCurrentData[randomParent][randomChild] = twoOrFour;\n      }\n    }\n    return changeCurrentData\n  }\n\n  const initKeys = () => {\n    ArrowKeysReact.config({\n      left: () => {\n        handleArrows('left')\n      },\n      right: () => {\n        handleArrows('right')\n      },\n      up: () => {\n        handleArrows('up')\n      },\n      down: () => {\n        handleArrows('down')\n      }\n    });\n  }\n\n  const handleSum = (modData, side) => {\n    let newData = []\n    modData.forEach((row, rowIndex) => {\n      let newRow = []\n      row.map((col, colIndex) => {\n        let innerRow = row\n        if(col) {\n          if(col === innerRow[colIndex+1]) {\n            innerRow[colIndex+1] = 0\n            newRow.push(col+col)\n            setScoreState(scoreState + col + col)\n          } else newRow.push(col)\n        }\n        return innerRow\n      })\n      if(side === 'right') {\n        newData.push(new Array(4-newRow.length).fill(0).concat(newRow))\n      } else newData.push(newRow.concat(new Array(4-newRow.length).fill(0)))\n    })\n    return newData\n  }\n\n  const handleOrderArray = (modData, side) => {\n    let newData = []\n    let noM = 0\n    modData.forEach(row => {\n      let newRow = []\n      row.forEach(col => {\n        if(col) newRow.push(col)\n      })\n      if(newRow.length === 4) noM++\n      if(side === 'right') {\n        newData.push(new Array(4-newRow.length).fill(0).concat(newRow))\n      } else newData.push(newRow.concat(new Array(4-newRow.length).fill(0)))\n     \n    })\n\n    const sumData = handleSum(newData, side)\n    if(noM !== 4) {\n      return sumData\n    } else {\n      setGameState('lost')\n      return data\n    }\n  }\n\n  const handleReverseArray = (modData) => {\n    let newData = []\n    data.forEach((row, rowIndex) => {\n      let newRow = []\n      row.forEach((col, cilIndex) => {\n        newRow.push(modData[cilIndex][rowIndex]);\n      })\n      newData.push(newRow)\n    })\n\n    return newData\n  }\n\n  const handleArrows = (eventSide) => {\n    let mainData = null\n\n    if(eventSide === 'left') {\n      mainData = handleOrderArray(data, eventSide)\n    }\n\n    if(eventSide === 'right') {\n      mainData = handleOrderArray(data, eventSide)\n    }\n\n    if(eventSide === 'up') {\n      let newOrder = handleReverseArray(data)\n      let changedOrder = handleOrderArray(newOrder, eventSide)\n      mainData = handleReverseArray(changedOrder)\n    }\n\n    if(eventSide === 'down') {\n      let newOrder = handleReverseArray(data)\n      let changedOrder = handleOrderArray(newOrder, 'right')\n      mainData = handleReverseArray(changedOrder)\n    }\n\n    if(mainData) setData(mainData)\n    setKeyState(eventSide)\n  }\n  \n\n  return (\n    <div \n      className=\"App\"\n      ref={initPageRef}\n      {...ArrowKeysReact.events} tabIndex=\"1\"\n    >\n      <div className='big-box'>\n        <div className='intro-text'> please use your arrow keys to navigate </div>\n        <div className='box-header'>\n          <div \n            className='new-game-btn'\n            onClick={handleNewGame}\n          > new game </div>\n          <div className='new-score-btn'> score: {scoreState} </div>\n        </div>\n        <div className='small-box'>\n          {gameState === 'lost' ? <div className='pop-up-message'>\n            <h1 className='message-text'> game over! </h1>\n            <div \n              className='new-game-btn'\n              onClick={handleNewGame}\n            > try again </div>\n          </div> : null}\n          {\n            data && data.length ? data.map(row => <div \n              className='row'> {\n              row.map(col => <div className={`box ${col ? classedNumb[col] : ''}`}> {col || null} </div>)\n            } </div>)\n          : null\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}